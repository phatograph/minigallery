(function(e,t,n,r){function o(t,n){this.element=t;this.options=e.extend({},s,n);this._defaults=s;this._name=i;this.init()}var i="miniGallery",s={width:150,height:150,offset:3e3,delay:50,padding:5,animateDurationIn:200,animateDurationOut:800,easeIn:"easeInQuint",easeOut:"easeInOutElastic",caret:'<b class="mini-gallery-caret" />'};o.prototype={init:function(){var t=e(this.element),n=this.options,r=this;t.find("ul:first-child").addClass("mini-gallery-active");t.find("ul:not(:first-child)").hide();t.find("ul").each(function(t){var r=e(this).find("li");e(this).attr("id","handle"+t).css({width:r.length*(n.width+n.padding*2)+"px",margin:"0 auto",height:n.height+"px",position:"relative"}).data("order",t);r.each(function(r){e(this).css({listStyleType:"none",position:"absolute",top:"0",padding:"0 "+n.padding+"px"});if(t===0){e(this).css({left:r*(n.width+n.padding*2)+"px"})}else{e(this).css({left:n.offset+"px"})}})});t.find("> div:first-child").css({height:n.height+"px",overflow:"hidden",position:"relative"});var i=t.find("> div a").eq(0);r.addCaret(i,n.caret).addClass("active");t.find("> div a").click(function(i){i.preventDefault();if(!e(this).hasClass("active")){var s=e(this);t.find("> div a").removeClass("active");s.addClass("active");e("b.mini-gallery-caret").fadeOut(function(){e(this).remove();r.addCaret(s,n.caret)});var o=e("#"+s.attr("href"));var u=t.find(".mini-gallery-active").data("order");var a=o.data("order");var f=t.find(".mini-gallery-active li");var l=o.find("li");if(u<a){var c=-1*n.offset}else{var c=n.offset}t.find(".mini-gallery-active").removeClass("mini-gallery-active");f.each(function(t){var r=e(this);var i=u<a?t*n.delay:(f.length-t)*n.delay;setTimeout(function(){r.animate({left:c+"px"},n.animateDurationIn,n.easeIn)},i)});setTimeout(function(){o.addClass("mini-gallery-active");f.parent().hide();l.parent().show();l.each(function(t){var r=e(this);var i=u<a?t*n.delay:(l.length-t)*n.delay;r.css({left:c+"px"});setTimeout(function(){r.animate({left:t*(n.width+n.padding*2)+"px"},n.animateDurationOut,n.easeOut)},i)})},n.animateDurationIn+n.delay*f.length)}})},addCaret:function(t,n){var r=e(n).hide();r.css({left:t.width()/2-10+"px"});t.prepend(r);r.fadeIn();return t},yourOtherFunction:function(e,t){}};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}})}})(jQuery,window,document)